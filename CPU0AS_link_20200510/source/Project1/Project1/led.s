dir: word 16384
led: word 16388
pin0: word 1

toggle:
LD R10, R0, led
LDR R8, R0, R10
LD R6, R0, pin0
XOR R8, R8, R6
STR R8, R0, R10
L.1:
RET

main:
LDI R8, R0, -16
ADD SP, SP, R8
LD R10, R0, dir
STR R0, R0, R10
LD R10, R0, led
LDI R8, R0, 1
STR R8, R0, R10
JMP L.5
L.4:
CALL toggle
MOV R8, R0
L.7:
MOV R9, R0
L.11:
L.12:
LDI R9, R9, 1
LDI R10, R0, 47
CMP R9, R10
JLT L.11
L.8:
LDI R8, R8, 1
LDI R10, R0, 32767
CMP R8, R10
JLT L.7
L.5:
JMP L.4
L.3:
LDI R8, R0, 16
ADD SP, SP, R8
RET
